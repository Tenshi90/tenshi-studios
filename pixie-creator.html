<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Pixie Blush Creator Panel • Tenshi Studios</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="top-nav">
    <div class="nav-inner">
      <div class="nav-brand">
        <div class="nav-logo">Tenshi<br>Studios</div>
      </div>
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="store.html?store=pixieblush" target="_blank">Live Store</a>
      </nav>
      <span class="nav-cta">Creator Panel</span>
    </div>
  </header>

  <main style="padding-top:80px;">
    <!-- LOGIN SCREEN -->
    <section class="section section-light" id="login-section">
      <div class="section-inner">
        <h2 class="section-title">Pixie Blush Creator Login</h2>
        <p class="section-subtitle">
          Enter your private password to manage your Pixie Blush storefront.
        </p>

        <div style="max-width:360px;">
          <label class="field-label" for="creator-password">Password</label>
          <input id="creator-password" class="field-input" type="password" placeholder="Password">
          <button class="btn-primary" style="margin-top:10px;" onclick="handleLogin()">Log In</button>
          <p id="login-message" class="auth-message"></p>
        </div>
      </div>
    </section>

    <!-- PANEL SCREEN -->
    <section class="section section-cream" id="panel-section" style="display:none;">
      <div class="section-inner section-split">

        <!-- PREVIEW -->
        <div>
          <h2 class="section-title" style="font-size:20px;">Your Live Preview</h2>
          <p class="section-subtitle">
            This shows how your storefront will look after updates.
          </p>

          <article class="example-card">
            <div id="preview-banner" class="example-image"
                 style="background-image:url('https://images.pexels.com/photos/102129/pexels-photo-102129.jpeg?auto=compress&cs=tinysrgb&w=800');">
            </div>

            <div class="example-body">
              <h3 id="preview-name">Pixie Blush Kreationz</h3>
              <p id="preview-bio">Handmade kawaii accessories, charms, and gifts with a magical touch.</p>
              <div class="example-meta">
                <span class="tag">Live storefront</span>
                <a class="text-link" href="store.html?store=pixieblush" target="_blank">
                  View Store →
                </a>
              </div>
            </div>
          </article>
        </div>

        <!-- EDITOR -->
        <div>
          <h2 class="section-title" style="font-size:20px;">Edit Your Storefront</h2>

          <div class="small-card" style="margin-bottom:16px;">
            <h3>Store Details</h3>
            <p style="font-size:12px; opacity:0.8;">Update your name, bio, and images.</p>

            <label class="field-label" for="store-name">Store Name</label>
            <input id="store-name" class="field-input" value="Pixie Blush Kreationz">

            <label class="field-label" for="store-bio">Bio</label>
            <textarea id="store-bio" class="field-input" rows="3">Handmade kawaii accessories, charms, and gifts with a magical touch.</textarea>

            <label class="field-label" for="store-banner">Banner Image URL</label>
            <input id="store-banner" class="field-input" placeholder="Wide banner image">

            <label class="field-label" for="store-logo">Logo Image URL</label>
            <input id="store-logo" class="field-input" placeholder="Square logo image">

            <label class="field-label" for="store-instagram">Instagram URL</label>
            <input id="store-instagram" class="field-input">

            <label class="field-label" for="store-tiktok">TikTok URL</label>
            <input id="store-tiktok" class="field-input">

            <label class="field-label" for="store-mainshop">Main Shop URL (Etsy)</label>
            <input id="store-mainshop" class="field-input">

            <button class="btn-primary" style="margin-top:10px;" onclick="updatePreview()">Update Preview</button>
          </div>

          <div class="small-card">
            <h3>Products</h3>
            <label class="field-label">Action</label>
            <select id="product-action" class="field-input">
              <option value="add">Add</option>
              <option value="update">Update</option>
              <option value="delete">Delete</option>
            </select>

            <label class="field-label" for="product-id">Product ID</label>
            <input id="product-id" class="field-input">

            <label class="field-label" for="product-name">Name</label>
            <input id="product-name" class="field-input">

            <label class="field-label" for="product-desc">Description</label>
            <textarea id="product-desc" class="field-input" rows="3"></textarea>

            <label class="field-label" for="product-price">Price</label>
            <input id="product-price" class="field-input">

            <label class="field-label" for="product-currency">Currency</label>
            <input id="product-currency" class="field-input" value="USD">

            <label class="field-label" for="product-image">Image URL</label>
            <input id="product-image" class="field-input">

            <label class="field-label" for="product-buyurl">Buy Link</label>
            <input id="product-buyurl" class="field-input">

            <label class="field-label" for="product-featured">Featured?</label>
            <select id="product-featured" class="field-input">
              <option value="true">Yes</option>
              <option value="false">No</option>
            </select>

            <button class="btn-primary" style="margin-top:10px;" onclick="prepareEmail()">Send Update to Tenshi</button>

            <p style="font-size:11px; opacity:0.7; margin-top:6px;">
              You will send this via email. Tenshi will publish your changes.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="footer-inner">
      <p class="footer-brand">Tenshi Studios</p>
      <p class="footer-copy">Private Creator Tools</p>
    </div>
  </footer>

  <script>
    const CREATOR_PASSWORD = "pixie-secret";

    function handleLogin() {
      const input = document.getElementById("creator-password").value.trim();
      const msg = document.getElementById("login-message");

      if (input === CREATOR_PASSWORD) {
        document.getElementById("login-section").style.display = "none";
        document.getElementById("panel-section").style.display = "block";
      } else {
        msg.textContent = "Incorrect password. Try again.";
        msg.className = "auth-message auth-error";
      }
    }

    function updatePreview() {
      const name = document.getElementById("store-name").value.trim();
      const bio = document.getElementById("store-bio").value.trim();
      const banner = document.getElementById("store-banner").value.trim();

      if (name) document.getElementById("preview-name").textContent = name;
      if (bio) document.getElementById("preview-bio").textContent = bio;
      if (banner) document.getElementById("preview-banner").style.backgroundImage = "url('" + banner + "')";
    }

    function prepareEmail() {
      const to = "tenshistudioshelp@gmail.com";
      const subject = encodeURIComponent("Pixie Blush Update");

      const body = encodeURIComponent(`
=== STORE INFO ===
Name: ${document.getElementById("store-name").value}
Bio: ${document.getElementById("store-bio").value}
Banner: ${document.getElementById("store-banner").value}
Logo: ${document.getElementById("store-logo").value}
Instagram: ${document.getElementById("store-instagram").value}
TikTok: ${document.getElementById("store-tiktok").value}
Main Shop: ${document.getElementById("store-mainshop").value}

=== PRODUCT CHANGE ===
Action: ${document.getElementById("product-action").value}
ID: ${document.getElementById("product-id").value}
Name: ${document.getElementById("product-name").value}
Desc: ${document.getElementById("product-desc").value}
Price: ${document.getElementById("product-price").value}
Currency: ${document.getElementById("product-currency").value}
Image: ${document.getElementById("product-image").value}
Buy Link: ${document.getElementById("product-buyurl").value}
Featured: ${document.getElementById("product-featured").value}

(Use these for stores.json and products.json)
      `);

      window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
    }
  </script>
</body>
</html>
